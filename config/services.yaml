# This file is the entry point to configure your own services.
# Files in the packages/ subdirectory configure your dependencies.

# Put parameters here that don't need to change on each machine where the app is deployed
# https://symfony.com/doc/current/best_practices.html#use-parameters-for-application-configuration
parameters:
  app.api_key: '%env(API_KEY)%'

services:
  _defaults:
    autowire: true
    autoconfigure: true

  DriveManager\Infrastructure\Api\V1\DropFileController:  
    autowire: true
    arguments:
      $repository: '@drivemanager.repository'
      $dropFileInterface: '@file.DropFileInterface'
      
  drivemanager.repository:
    public: true
    autowire: true
    class: DriveManager\Infrastructure\Persistence\File\FileRepositoryDoctrine

  DriveManager\Application\Service\DropFile\DropFileInterface: "@drivemanager.DropFileInterface"
  DriveManager\Domain\Model\File\FileRepositoryInterface: "@drivemanager.repository"

  DriveManager\Infrastructure\Api\V1\:
    resource: "../src/Infrastructure/Api/V1/"
    tags: ["controller.service_arguments"]
